<% content_for :page_specific_javascript_late do %>
<%= javascript_include_tag "registration.js.coffee" %>
<% end %>
<% if params[:type] == 'motel' %>
<h2><%= t('home.sign_up_motel') %></h2>
<% else %>
<h2><%= t('home.sign_up_user') %></h2>
<% end %>
<%= form_for(resource, as: resource_name, url: registration_path(resource_name), id: "registration_form") do |f| %>
<%= devise_error_messages! %>
  <% hidden_field :type, nil, {value: params[:type]}  %>
  <table>
    <tr>
      <td><%= f.label :username %> </td>
      <td><%= f.text_field :username %></td>
    </tr>
    <tr>
      <td><%= f.label :email %> </td>
      <td><%= f.email_field :email %></td>
    </tr>
    <tr>
      <td><%= f.label :password %> </td>
      <td><%= f.password_field :password %></td>
    </tr>
    <tr>
      <td><%= f.label :password_confirmation %> </td>
      <td><%= f.password_field :password_confirmation %></td>
    </tr>
    <% if params[:type] == 'motel' %>
      <%= f.fields_for :hotels do |h| %>
        <tr>
          <td><%= h.label :name, t("home.forms.hotel_name") %> </td>
          <td><%= h.text_field :name %></td>
        </tr>
        <tr>
          <td><%= h.label :description, t("home.forms.hotel_description") %> </td>
          <td><%= h.text_area :description %></td>
        </tr>
      <% end %>
    <% end %>
    <tr>
      <td><%= f.submit %></td>
    </tr>
  </table>
  <br />
  <%= render :partial => "devise/shared/links" %>
<% end %>